<!DOCTYPE html>
<html>
  <head>
    <title>Marker Clustering</title>
    <style>
        /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
        #map {
        height: 100%;
        }
 
        /* Optional: Makes the sample page fill the window. */
        html,
        body {
        height: 100%;
        margin: 0;
        padding: 0;
        }
    </style>
 
    <!-- jsFiddle will insert css and js -->
  </head>
  <body>
    <div id="map"></div>
 
    <!-- Script async segera dieksekusi dan harus setelah elemen DOM apa pun yang digunakan dalam callback. -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://unpkg.com/@google/markerclustererplus@4.0.1/dist/markerclustererplus.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap&v=weekly&channel=2" async></script>
 
    <script>
      function initMap() {
        const map = new google.maps.Map(document.getElementById("map"), {
          zoom: 4,
          center: { lat: -28.024, lng: 140.887 },
        });
        
        // Membuat looping dengan variabel markers dengan berisikan variabel marker yang mendefinisikan 
        // operator new untuk membuat markernya 
        const markers = jabodetabek.map((location, i) => {
          return new google.maps.Marker({
            position: new google.maps.LatLng(jabodetabek[i][0], jabodetabek[i][1]),
            map: map
          });
        });
 
        // Tambahkan marker cluster untuk mengelompokkan marker menjadi lebih ringkas.
        new MarkerClusterer(map, markers, {
          imagePath:
            "https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",
        });
      }
 
    // Berikut ini adalah titik-titik persebaran Kota/Kabupaten di sekitar Jabodetabek
    // yang akan ditampilan diatas peta
    const jabodetabek = [
        [-6.2060905,106.8475342],
        [-6.1554034,106.8926811],
        [-6.2614652,106.810627],
        [-6.1674356,106.7637634],
        [-6.2248623,106.9004059],
        [-6.4024778,106.7942333],
        [-6.5971469,106.8060388],
        [-6.5517758,106.6291304],
        [-6.9277901,106.9299316],
        [-7.2134052,106.6291304],
        [-7.3579773,107.1957203],
        [-6.3668231,107.1736908],
        [-6.2381727,106.9755936],
      ];
 
    </script>
  </body>
</html>